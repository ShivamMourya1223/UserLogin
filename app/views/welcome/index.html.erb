<div class="row">
  <% @posts.each do |post| %>
 <div class="col-sm-4">
  <div class="card">
    <div class="card-body">
      <h5 class="card-title"><%=post.title%></h5>
      <%=image_tag(post.image.url , width:150)%>
      <p class="card-text"><%=post.description%></p>

      <div id = "likkke_<%= post.id%>">
        <strong>Likes</strong>
        <%= render 'likes/like_post',post:post %>
      </div>

      <div class= "row">
        <div class="col-sm-3">
          <%=link_to'AddComment',new_post_comment_path(post.id),remote:true,class:"btn btn-primary"%>
         <div id= "<%= post.id %>"></div>
        </div>
        <div class="col-sm-3">
          <%=link_to'ShowComment',post_path(post.id),remote:true,class:"btn btn-primary",id:"show_com_#{post.id}" %>
          <div id= "<%= post.id %>"></div>
          <button class="btn btn-primary" id= "rvm_com_<%= post.id %>" style="display :none; margin-top: inherit; margin-left: inherit;"  onclick= "hideComments()" >show_comment</button>
        </div>   
      </div>

      
<script type="text/javascript">

  $("#new_comment").submit(function(event) {
    event. preventDefault();
  // var post_id = "<%#= @post.id %>"
  var data = $("#new_comment").serialize();
    $.ajax({
      url: "/posts/"+<%= post.id %>+"/comments",
      type: 'POST', 
      data: data
    });
  });
</script>

<script>

    // $("rvm_com_<%= post.id %>").click(function(){
    //   // $("post_comment").toggle();
    //   $("#<%= post.id %>").css("display", "none");
    // });

    function hideComments(){
      
     $("#post_comment").css("display", "none");

   }

 </script>
 <%=link_to 'ViewPost',post_path(post.id),class:"btn btn-dark"%>


</div>
</div>
</div>

<%end%>
</div>
 <%=link_to 'NewPost',new_post_path,class:"btn btn-success"%>








